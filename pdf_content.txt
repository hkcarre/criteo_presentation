Complete Waterfall Chart Tutorial for  AI Agents
ðŸ“‹ TABLE OF  CONTENTS
1. What is a Waterfall Chart?
2. When to Use Waterfall Charts
3. Data Structure Requirements
4. Step-by-Step Code Tutorial
5. Prompt Template for AI Agents
6. Common Mistakes to Avoid
7. Advanced Customizations
ðŸŽ¯ WHA T IS A WATERF ALL  CHAR T?
A waterfall chart shows how an initial value is af fected by a series of positive or negative changes, leading to a
final value.
Visual Pattern:
Business Use Cases:
Revenue breakdowns (T otal â†’ Net after deductions)
Budget analysis (Planned â†’ Actual with variances)
Risk cascades (T otal Exposure â†’ Addressable Risk)
Profit bridges (Gross â†’ Net Profit)
ðŸ“Š WHEN TO USE WATERF ALL  CHAR TS
âœ… GOOD USE CASES:
Sequential changes  to a starting valueStart Value: â‚¬1,000
  - Cost A: -â‚¬200    â†’ Running Total: â‚¬800
  + Revenue B: +â‚¬150 â†’ Running Total: â‚¬950
  - Cost C: -â‚¬100    â†’ Running Total: â‚¬850
Final Value: â‚¬850
Cumulative impact  of multiple factors
Bridge analysis  (e.g., 2023 Revenue â†’ 2024 Revenue)
Risk funnels  (Total â†’ High Priority subset)
âŒ AVOID WATERF ALL  FOR:
Non-cumulative comparisons  (use bar charts)
Time series tr ends  (use line charts)
Part-to-whole r elationships  (use pie/stacked bar)
ðŸ—‚ DATA STRUCTURE REQUIREMENTS
CORE DA TA MODEL:
javascript
CALCULA TED FIELDS (Requir ed for  Recharts):const  waterfallData = [
  {
    name: "Starting Value" ,      // Label for the bar
    value: 1000 ,                 // Actual value (for first bar)
    change: 0,                   // Change amount (0 for starting)
    type: "total" ,               // Type: "total", "incr ease", "decr ease"
    color: "#0066CC"              // Bar color
  },
  {
    name: "Deduction A",
    value: 0,                    // Not used for intermediate bars
    change: -200,                // Negative = decr ease
    type: "decrease" ,
    color: "#D32F2F"
  },
  {
    name: "Addition B" ,
    value: 0,
    change: +150,                // Positive = incr ease
    type: "increase" ,
    color: "#4CAF50"
  },
  {
    name: "Final Value" ,
    value: 0,
    change: 0,                   // Final bar shows cumulative
    type: "total" ,
    color: "#FF5722"
  }
];
javascript
Key Fields Explained:
start: Where the bar begins on Y-axis (cumulative from previous)
end: Where the bar ends on Y-axis
displayValue: The height of the visible bar (absolute value)
cumulative: Running total (for reference lines)
ðŸ’» STEP-BY -STEP  CODE TUT ORIAL
STEP  1: Basic Waterfall Structur e// Transform data to include cumulative positions
const  processedData = waterfallData .map((item, index ) => {
  // Calculate running total up to this point
  let cumulative = 0;
  for (let i = 0; i <= index ; i++) {
    cumulative += waterfallData [i].value  || waterfallData [i].change ;
  }
  
  return  {
    ...item,
    start: index === 0 ? 0 : cumulative - (item.value  || item .change ),
    end: cumulative ,
    displayV alue: Math .abs(item.change  || item .value ),
    cumulative : cumulative
  };
});
jsx
import  React  from  'react' ;
import  { Bar
